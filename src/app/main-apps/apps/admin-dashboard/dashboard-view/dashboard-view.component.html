
<div class="d-flex justify-content-between mb-5 gap-3">
  <app-stats-card title="إجمالي عدد المناديب" number="{{dliveryman_number}} مندوب" icon="bx bxs-user"></app-stats-card>

  <app-stats-card *ngFor="let company of companiesCards"
                  [title]="'عدد مزودي خدمة شركة ' + company.name"
                  [number]="company.providers_number + ' مزود خدمة'"
                  [icon]="company.icon">
  </app-stats-card>
</div>



<div class="d-flex justify-content-between mb-3">

  <div class="d-flex align-items-center">
    <label for="dropdown-city">المنطقة</label>
    <div class="dropdown" (click)="toggleDropdown()">
      <button class="dropdown-button">
        {{ selectedItem ? selectedItem : 'الكل' }}
        <i class="bx bxs-down-arrow dropdown-icon"></i>
      </button>
      <div class="dropdown-content" *ngIf="isDropdownOpen">
        <div
          class="dropdown-item"
          *ngFor="let item of items"
          (click)="selectItem(item)">
          {{ item }}
        </div>
      </div>
    </div>
  </div>




  <div class="filterbydate d-flex align-items-center">
    <label for="">الفترة الزمنية <span>من - إلى</span></label>
    <form [formGroup]="dateRangeForm">
    <mat-form-field class="datepicker-container justify-content-center align-items-center">
      <mat-date-range-input [rangePicker]="picker1" [formGroup]="dateRangeForm">
        <input matStartDate formControlName="start">
        <input matEndDate formControlName="end">
      </mat-date-range-input>
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-date-range-picker #picker1></mat-date-range-picker>
    </mat-form-field>
  </form>
  </div>

</div>




<div class="d-flex justify-content-between mb-3 gap-3">
  <div class="chart-container w-75 align-items-center">
    <label for="">عدد الطلبات لكل شركة</label>
    <div class="divider"></div>
    <div id="every-company" style="width: 100%; height: 400px;"></div>
  </div>

  <div class="chart-container w-25 align-items-center">
    <label class="align-right" for="">إجمالي عدد الطلبات</label>
    <div class="divider"></div>
    <div id="all-companies" style="width: 100%; height: 400px;"></div>
  </div>
</div>



<div class="d-flex mb-3">
  <div class="chart-container w-100">

    <div *ngIf="showLoader" class="mt-5 text-center">
      <app-loader></app-loader>
   </div>

    <label for="">الخط الزمني لعدد الطلبات خلال سنة 2024</label>
    <div class="divider"></div>
    <div class=" d-flex justify-content-center" >
      <div id="timeline"></div>
    </div>
  </div>
</div>
